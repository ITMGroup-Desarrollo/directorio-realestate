---
const { persona } = Astro.props;
import Image from "astro/components/Image.astro";
import wsp from "../assets/whatsapp.svg";
import correo from "../assets/outlook.svg";
import contactos from "../assets/agregar.svg";
import llamar from "../assets/llamar.svg";
import logo from "../assets/logo.svg";
---

<div class="bg-container min-h-screen h-screen">
  {
    persona ? (
      <>
        <div class="w-full h-full flex flex-col items-center relative">
          <div class="image-container w-full h-1/3  relative flex justify-center items-center">
            <img
              src="/directorio/assets/fondoImagen.jpg"
              alt="Foto de fondo"
              class="absolute  w-full h-full mx-auto z-1 md:hidden"
            />
            <img
              src="/directorio/assets/fondoImagenLargo.jpg"
              alt="Foto de fondo"
              class="absolute fotoFondo top-0 w-full h-auto mx-auto z-1 hidden md:block"
            />
            <img
              src={persona.imagen}
              alt="Imagen de la persona"
              class="persona md:w-96 w-55 md:h-96 h-60 mx-auto mt-10 md:mt-14 z-2"
            />
            
          </div>
          <div class="plantilla-container absolute mt-8 top-1/4 h-2/3 md:h-2/3 w-full flex ">
            <img
              src="/directorio/assets/plantilla.png"
              alt="plantilla"
              class="plantilla xl:hidden left-0  w-full  h-full mx-auto z-3"
            />
            <img
              src="/directorio/assets/plantilla-escritorio.png"
              alt="plantilla"
              class="plantilla left-0 hidden xl:block w-full xl:h-full mx-auto z-3"
            />
          </div>
          <div class="second-container w-full text-center justify-center items-center flex flex-col z-4 xl:mt-20">
              <div class="text-container text-[var(--primary-color)] mb-3 flex flex-col text-center">
                <p class="uppercase name self-center mt-0 my-4 font-bold  flex flex-wrap px-8">
                    {persona.nombre} {persona.apellido}
                </p>
                <p class="uppercase job self-center flex flex-wrap px-8">{persona.puesto}</p>
              </div>
              <div class="relative flex justify-center items-center mt-3 ">
                <div class="icons-container grid grid-cols-2 grid-rows-2 md:flex md:flex-row justify-center gap-8 md:gap-16 ">
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`tel:${persona.celular}`}
                    aria-label="LLamar por teléfono"
                  >
                    <Image src={llamar} alt="Correo" class="item-image w-6 h-6 md:w-15 md:h-15 " />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Phone
                    </p>
                  </a>
                  <span class="line hidden inset-0 w-[2px]  h-20 bg-[var(--primary-color)]  origin-center" />
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`https://wa.me/${persona.celular.replace(/\D/g, "")}`}
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label="Enviar mensaje por WhatsApp"
                  >
                    <Image
                      src={wsp}
                      alt="WhatsApp"
                      class="item-image w-6 h-6 md:w-15 md:h-15 "
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      WhatsApp
                    </p>
                  </a>
                  <span class="line hidden inset-0 w-[2px]  h-20 bg-[var(--primary-color)]  origin-center" />
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`mailto:${persona.correo}`}
                    aria-label="Enviar correo"
                  >
                    <Image
                      src={correo}
                      alt="Correo"
                      class="item-image w-6 h-6 md:w-15 md:h-15 "
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Email
                    </p>
                  </a>
                  <span class="line hidden inset-0 w-[2px]  bg-[var(--primary-color)]  origin-center" />
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`/directorio/contactos/${persona.id}.vcf`}
                    target="_blank"
                    aria-label="Guardar contacto"
                  >
                    <Image
                      src={contactos}
                      alt="Guardar contacto"
                      class="item-image w-6 h-6 md:w-15 md:h-15"
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Add
                    </p>
                  </a>
                </div>
                <div class="absolute top-0 z-10 md:hidden">
                  <span class="absolute inset-0 w-[2px] md:h-72 h-34 bg-[var(--primary-color)]  origin-center" />
                  <span class="absolute inset-0 w-[2px] md:h-96 h-40 horizontal bg-[var(--primary-color)] -rotate-90 origin-center" />
                </div>
              </div>
              <Image src={logo} alt="Logo ITM" class="logo w-28 h-auto md:w-48 md:h-auto mt-7" />
            </div>
        </div>
      </>
    ) : (
      <div class="w-full h-full flex flex-col items-center justify-center">
        <Image src={logo} alt="Logo ITM" class="w-48 h-48 " />
        <p class="items-center justify-center font-bold text-center text-[var(--primary-color)] px-4">
          No se proporcionó información de la persona.
        </p>
      </div>
    )
  }
</div>
<style>
  p {
    font-size: 1.5rem;
    margin-top: 1rem;
  }
</style>
